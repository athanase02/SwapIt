<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwapIt - Complete Workflow Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: white;
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            font-size: 1.3rem;
            margin-bottom: 40px;
        }
        .workflow-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 40px;
        }
        .user-panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        .user-panel h2 {
            color: #667eea;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
        }
        .step {
            background: #f8f9fa;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            position: relative;
        }
        .step.completed { border-left-color: #28a745; background: #d4edda; }
        .step.active { border-left-color: #ffc107; background: #fff3cd; }
        .step-number {
            position: absolute;
            left: -15px;
            top: 15px;
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .step.completed .step-number { background: #28a745; }
        .step.active .step-number { background: #ffc107; }
        .step h3 {
            margin-left: 20px;
            color: #333;
            font-size: 1.3rem;
        }
        .step p {
            margin-left: 20px;
            margin-top: 10px;
            color: #666;
            line-height: 1.6;
        }
        .action-btn {
            margin-left: 20px;
            margin-top: 15px;
            padding: 12px 24px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(102,126,234,0.3);
        }
        .action-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(102,126,234,0.4);
        }
        .action-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        .item-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 10px 20px;
            display: none;
        }
        .item-card.visible { display: block; }
        .item-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
        .item-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }
        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
        }
        .detail-item i {
            color: #667eea;
        }
        .message-box {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
            margin: 10px 20px;
            max-height: 300px;
            overflow-y: auto;
            display: none;
        }
        .message-box.visible { display: block; }
        .message {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }
        .message.sent {
            background: #667eea;
            color: white;
            margin-left: 40px;
        }
        .message.received {
            background: #e9ecef;
            margin-right: 40px;
        }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
            min-width: 300px;
        }
        .notification.show { display: block; animation: slideIn 0.3s; }
        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .notification.success { border-left: 5px solid #28a745; }
        .notification.info { border-left: 5px solid #667eea; }
        .form-group {
            margin: 15px 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1rem;
        }
        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        .timeline {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background: #e9ecef;
            z-index: -1;
        }
        .controls {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 20px 40px;
            border-radius: 50px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            display: flex;
            gap: 20px;
        }
        .control-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .control-btn.reset {
            background: #dc3545;
            color: white;
        }
        .control-btn.auto {
            background: #28a745;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÑ SwapIt Complete Workflow</h1>
        <p class="subtitle">Watch how two users interact: Student borrows a projector for presentation</p>

        <div class="workflow-container">
            <!-- Student (Borrower) Panel -->
            <div class="user-panel">
                <h2><i class="fas fa-user-graduate"></i> Sarah (Student - Borrower)</h2>
                
                <div class="step" id="student-step1">
                    <div class="step-number">1</div>
                    <h3>üîç Discover & Browse</h3>
                    <p>Sarah needs a projector for tomorrow's presentation. She searches on SwapIt...</p>
                    <button class="action-btn" onclick="studentStep1()">Search for Projector</button>
                    <div class="item-card" id="student-item">
                        <h4>üìΩÔ∏è Epson EX3280 Projector</h4>
                        <p><strong>Owner:</strong> John (Professor)</p>
                        <div class="item-details">
                            <div class="detail-item"><i class="fas fa-tag"></i> $25/day</div>
                            <div class="detail-item"><i class="fas fa-star"></i> 4.9 rating</div>
                            <div class="detail-item"><i class="fas fa-check-circle"></i> Available</div>
                            <div class="detail-item"><i class="fas fa-map-marker-alt"></i> Campus</div>
                        </div>
                    </div>
                </div>

                <div class="step" id="student-step2">
                    <div class="step-number">2</div>
                    <h3>üìÖ Request to Borrow</h3>
                    <p>She selects the projector and sends a borrow request with dates...</p>
                    <div class="form-group">
                        <label>Start Date:</label>
                        <input type="date" id="start-date" value="">
                    </div>
                    <div class="form-group">
                        <label>End Date:</label>
                        <input type="date" id="end-date" value="">
                    </div>
                    <div class="form-group">
                        <label>Message:</label>
                        <textarea id="borrow-message" rows="3">Hi! I need this for my presentation tomorrow. I'll take great care of it!</textarea>
                    </div>
                    <button class="action-btn" onclick="studentStep2()" disabled>Send Request</button>
                </div>

                <div class="step" id="student-step3">
                    <div class="step-number">3</div>
                    <h3>‚úÖ Request Approved!</h3>
                    <p>John approves the request. Sarah gets a notification...</p>
                    <div class="message-box" id="student-messages">
                        <!-- Messages will appear here -->
                    </div>
                </div>

                <div class="step" id="student-step4">
                    <div class="step-number">4</div>
                    <h3>üí¨ Agree on Meeting</h3>
                    <p>They chat to arrange pickup location and time...</p>
                    <button class="action-btn" onclick="studentStep4()" disabled>Send Message</button>
                </div>

                <div class="step" id="student-step5">
                    <div class="step-number">5</div>
                    <h3>üì¶ Pickup & Use</h3>
                    <p>Sarah picks up the projector at the library at 2 PM...</p>
                    <button class="action-btn" onclick="studentStep5()" disabled>Confirm Pickup</button>
                </div>

                <div class="step" id="student-step6">
                    <div class="step-number">6</div>
                    <h3>üîÑ Return & Rate</h3>
                    <p>After the presentation, Sarah returns the projector and leaves a review...</p>
                    <div class="form-group">
                        <label>Rating:</label>
                        <select id="student-rating" style="width:100%;padding:12px;border:2px solid #e9ecef;border-radius:8px;">
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Good</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Average</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Review:</label>
                        <textarea id="student-review" rows="3">Great condition! John was very helpful. Highly recommend!</textarea>
                    </div>
                    <button class="action-btn" onclick="studentStep6()" disabled>Submit Review</button>
                </div>
            </div>

            <!-- Owner Panel -->
            <div class="user-panel">
                <h2><i class="fas fa-user-tie"></i> John (Professor - Owner)</h2>
                
                <div class="step" id="owner-step1">
                    <div class="step-number">1</div>
                    <h3>üìã Has Listed Item</h3>
                    <p>John previously listed his projector on SwapIt...</p>
                    <div class="item-card visible">
                        <h4>üìΩÔ∏è Epson EX3280 Projector</h4>
                        <p><strong>Status:</strong> <span style="color:#28a745">Available</span></p>
                        <div class="item-details">
                            <div class="detail-item"><i class="fas fa-tag"></i> $25/day</div>
                            <div class="detail-item"><i class="fas fa-eye"></i> 24 views</div>
                            <div class="detail-item"><i class="fas fa-heart"></i> 5 favorites</div>
                            <div class="detail-item"><i class="fas fa-clock"></i> Listed 2 weeks ago</div>
                        </div>
                    </div>
                </div>

                <div class="step" id="owner-step2">
                    <div class="step-number">2</div>
                    <h3>üîî Receives Request</h3>
                    <p>John gets a notification about Sarah's borrow request...</p>
                    <div class="item-card" id="owner-request">
                        <h4>New Borrow Request</h4>
                        <p><strong>From:</strong> Sarah (Student)</p>
                        <p><strong>Message:</strong> <span id="request-message"></span></p>
                        <p><strong>Duration:</strong> <span id="request-dates"></span></p>
                    </div>
                </div>

                <div class="step" id="owner-step3">
                    <div class="step-number">3</div>
                    <h3>‚úÖ Approve Request</h3>
                    <p>John reviews the request and approves it...</p>
                    <button class="action-btn" onclick="ownerStep3()" disabled>Approve Request</button>
                </div>

                <div class="step" id="owner-step4">
                    <div class="step-number">4</div>
                    <h3>üí¨ Arrange Meeting</h3>
                    <p>John suggests a meeting location and time...</p>
                    <div class="message-box" id="owner-messages">
                        <!-- Messages will appear here -->
                    </div>
                    <div class="form-group">
                        <label>Meeting Location:</label>
                        <input type="text" id="meeting-location" value="Main Library, 2nd Floor">
                    </div>
                    <div class="form-group">
                        <label>Meeting Time:</label>
                        <input type="time" id="meeting-time" value="14:00">
                    </div>
                    <button class="action-btn" onclick="ownerStep4()" disabled>Send Meeting Details</button>
                </div>

                <div class="step" id="owner-step5">
                    <div class="step-number">5</div>
                    <h3>ü§ù Complete Handover</h3>
                    <p>John meets Sarah and hands over the projector...</p>
                    <button class="action-btn" onclick="ownerStep5()" disabled>Confirm Handover</button>
                </div>

                <div class="step" id="owner-step6">
                    <div class="step-number">6</div>
                    <h3>‚≠ê Rate Borrower</h3>
                    <p>After return, John rates Sarah as a borrower...</p>
                    <div class="form-group">
                        <label>Rating:</label>
                        <select id="owner-rating" style="width:100%;padding:12px;border:2px solid #e9ecef;border-radius:8px;">
                            <option value="5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</option>
                            <option value="4">‚≠ê‚≠ê‚≠ê‚≠ê Good</option>
                            <option value="3">‚≠ê‚≠ê‚≠ê Average</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Review:</label>
                        <textarea id="owner-review" rows="3">Responsible borrower! Returned on time in perfect condition.</textarea>
                    </div>
                    <button class="action-btn" onclick="ownerStep6()" disabled>Submit Review</button>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn reset" onclick="resetDemo()">üîÑ Reset Demo</button>
            <button class="control-btn auto" onclick="autoPlay()">‚ñ∂Ô∏è Auto Play</button>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        let currentStep = 0;
        
        // Set default dates
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.getElementById('start-date').value = tomorrow.toISOString().split('T')[0];
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.getElementById('end-date').value = tomorrow.toISOString().split('T')[0];

        function showNotification(message, type = 'info') {
            const notif = document.getElementById('notification');
            notif.innerHTML = `<strong>${type === 'success' ? '‚úÖ' : 'üîî'} Notification</strong><p>${message}</p>`;
            notif.className = `notification ${type} show`;
            setTimeout(() => notif.classList.remove('show'), 3000);
        }

        function studentStep1() {
            document.getElementById('student-item').classList.add('visible');
            document.getElementById('student-step1').classList.add('completed');
            document.getElementById('student-step2').classList.add('active');
            document.querySelector('#student-step2 .action-btn').disabled = false;
            showNotification('Sarah found a perfect projector!', 'success');
            currentStep = 1;
        }

        function studentStep2() {
            const startDate = document.getElementById('start-date').value;
            const endDate = document.getElementById('end-date').value;
            const message = document.getElementById('borrow-message').value;
            
            document.getElementById('request-message').textContent = message;
            document.getElementById('request-dates').textContent = `${startDate} to ${endDate}`;
            document.getElementById('owner-request').classList.add('visible');
            
            document.getElementById('student-step2').classList.remove('active');
            document.getElementById('student-step2').classList.add('completed');
            document.getElementById('owner-step2').classList.add('active');
            document.querySelector('#owner-step3 .action-btn').disabled = false;
            
            showNotification('Request sent to John!', 'success');
            currentStep = 2;
        }

        function ownerStep3() {
            document.getElementById('owner-step2').classList.remove('active');
            document.getElementById('owner-step2').classList.add('completed');
            document.getElementById('owner-step3').classList.add('completed');
            document.getElementById('student-step3').classList.add('active');
            
            const msgBox = document.getElementById('student-messages');
            msgBox.classList.add('visible');
            msgBox.innerHTML = '<div class="message received">‚úÖ Your request has been approved by John!</div>';
            
            document.getElementById('owner-step4').classList.add('active');
            document.querySelector('#owner-step4 .action-btn').disabled = false;
            
            showNotification('John approved the request!', 'success');
            currentStep = 3;
        }

        function ownerStep4() {
            const location = document.getElementById('meeting-location').value;
            const time = document.getElementById('meeting-time').value;
            
            const ownerMsg = document.getElementById('owner-messages');
            ownerMsg.classList.add('visible');
            ownerMsg.innerHTML = `<div class="message sent">üìç Let's meet at ${location} at ${time}</div>`;
            
            const studentMsg = document.getElementById('student-messages');
            studentMsg.innerHTML += `<div class="message received">üìç Let's meet at ${location} at ${time}</div>`;
            
            document.getElementById('owner-step4').classList.remove('active');
            document.getElementById('owner-step4').classList.add('completed');
            document.getElementById('student-step3').classList.remove('active');
            document.getElementById('student-step3').classList.add('completed');
            document.getElementById('student-step4').classList.add('active');
            document.querySelector('#student-step4 .action-btn').disabled = false;
            
            showNotification('Meeting arranged!', 'success');
            currentStep = 4;
        }

        function studentStep4() {
            const studentMsg = document.getElementById('student-messages');
            studentMsg.innerHTML += '<div class="message sent">Perfect! See you there! üëç</div>';
            
            const ownerMsg = document.getElementById('owner-messages');
            ownerMsg.innerHTML += '<div class="message received">Perfect! See you there! üëç</div>';
            
            document.getElementById('student-step4').classList.remove('active');
            document.getElementById('student-step4').classList.add('completed');
            document.getElementById('student-step5').classList.add('active');
            document.querySelector('#student-step5 .action-btn').disabled = false;
            document.querySelector('#owner-step5 .action-btn').disabled = false;
            document.getElementById('owner-step5').classList.add('active');
            
            showNotification('Chat complete!', 'success');
            currentStep = 5;
        }

        function studentStep5() {
            document.getElementById('student-step5').classList.remove('active');
            document.getElementById('student-step5').classList.add('completed');
            showNotification('Sarah picked up the projector!', 'success');
            currentStep = 6;
        }

        function ownerStep5() {
            document.getElementById('owner-step5').classList.remove('active');
            document.getElementById('owner-step5').classList.add('completed');
            
            setTimeout(() => {
                document.getElementById('student-step6').classList.add('active');
                document.querySelector('#student-step6 .action-btn').disabled = false;
                document.getElementById('owner-step6').classList.add('active');
                document.querySelector('#owner-step6 .action-btn').disabled = false;
                showNotification('Presentation complete! Time to return...', 'info');
            }, 1000);
            currentStep = 7;
        }

        function studentStep6() {
            const rating = document.getElementById('student-rating').value;
            const review = document.getElementById('student-review').value;
            
            document.getElementById('student-step6').classList.remove('active');
            document.getElementById('student-step6').classList.add('completed');
            
            showNotification('Sarah left a ' + rating + ' star review!', 'success');
            currentStep = 8;
        }

        function ownerStep6() {
            const rating = document.getElementById('owner-rating').value;
            const review = document.getElementById('owner-review').value;
            
            document.getElementById('owner-step6').classList.remove('active');
            document.getElementById('owner-step6').classList.add('completed');
            
            showNotification('üéâ Transaction complete! Both parties rated each other!', 'success');
            
            setTimeout(() => {
                alert('üéâ Workflow Complete!\n\n‚úÖ Sarah borrowed the projector\n‚úÖ John lent it out\n‚úÖ They communicated via messages\n‚úÖ Meeting arranged and completed\n‚úÖ Both parties left reviews\n\nThis is how SwapIt connects people!');
            }, 500);
            currentStep = 9;
        }

        function resetDemo() {
            location.reload();
        }

        function autoPlay() {
            const steps = [
                () => studentStep1(),
                () => studentStep2(),
                () => ownerStep3(),
                () => ownerStep4(),
                () => studentStep4(),
                () => { studentStep5(); ownerStep5(); },
                () => { studentStep6(); ownerStep6(); }
            ];
            
            let index = currentStep;
            const interval = setInterval(() => {
                if (index < steps.length) {
                    steps[index]();
                    index++;
                } else {
                    clearInterval(interval);
                }
            }, 2000);
        }
    </script>
</body>
</html>
